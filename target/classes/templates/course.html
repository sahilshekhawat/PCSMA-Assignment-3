<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">


    <style>
        body {
            padding-top: 40px;
            padding-bottom: 40px;
            background-color: #eee;
        }

    </style>
</head>
<body>
<div class="jumbotron" style="background-color: #2962FF; color: white; margin-bottom: 0px; padding-bottom: 2%;">
    <div class="row">
        <div class="col-md-12 col-xs-12" style="text-align: center; margin-top: 3%;">
            <h2>Welcome to Quizzer</h2>
            <p>Your have been successfully logged in!<br>
                Add or view your course to get started.</p>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-sm-3" style="margin-top: 50px; margin-left: 30px;">
        <div class="panel panel-default" id="newcourse" style="padding: 10px; background-color: #F5F5F5;">
            <div class="panel-body">
                <form role="form" id="createnewcourse">
                    <div class="form-group" style="margin-top: 20px;">
                        <label>COURSE NAME</label>
                        <input class="form-control" id="coursename" style="height: 40px;">
                    </div>
                    <div class="form-group">
                        <label>COURSE CODE</label>
                        <input class="form-control" id="courseid" style="height: 40px;">
                    </div>
                    <button class="btn btn-primary btn-block" style="margin-top: 50px; height: 40px; background-color: #2962FF; color: white;">CREATE NEW COURSE</button>
                </form>
            </div>
        </div>
    </div>

    <!--<table>-->
    <!--<c:forEach items="${course}" var="crs">-->
    <!--<tr>-->
    <!--<td><c:out value="${crs.id}" /></td>-->
    <!--</tr>-->
    <!--</c:forEach>-->
    <!--</table>-->

    <script   src="https://code.jquery.com/jquery-2.2.1.min.js"   integrity="sha256-gvQgAFzTH6trSrAWoH1iPo9Xc96QxSZ3feW6kem+O00="   crossorigin="anonymous"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

    <script>
        $("#createnewcourse").submit(function(e){
            e.preventDefault();
            var name = $("#coursename").val();
            var id = $("#courseid").val();
            $.ajax({
                method: "POST",
                url: "/api/course",
                data: {
                    name: name,
                    code: id
                }
            }).done(function(msg){
                console.log(msg);
                console.log("Finished");
                $.ajax({
                    method: "POST",
                    url: "/api/teacher/addcourse",
                    data: {
                        name: name,
                    }
                }).done(function(msg){
                    console.log(msg);
                    console.log("Finished adding teacher");
//            window.location.reload(true);
                });
//            window.location.reload(true);
            });
        })
    </script>

    <script>
        var name,id;
        $.ajax({
            method: "GET",
            url: "/api/teacher",
            data: {
                name: name,
                password: id
            }
        }).done(function(msg){
            console.log(msg);
//        jQuery.each(msg, function() {
//            $("#" + this).text("My id is " + this + ".");
//            return (this != "four"); // will stop running to skip "five"
//        });
            var i = 0
            document.writeln("<br><br><div align='center'><table border='1'><tr>");

            for ( var i = 0; i < msg.courses.length; i++) {
                var obj = graph.sparkData[i];
                console.log(obj);
                var crunchifyName;
                var crunchifyValue;

                document.writeln("<td>");
                document.writeln("<table border='0'  width=100 >");

                for ( var key in obj) {
                    crunchifyName = key;
                    crunchifyValue = obj[key].toString();
                    +document.writeln("<tr><td><B>" + crunchifyName
                    + ":  </B></td><td width=50>" + crunchifyValue
                    + "</td></tr>");
                    document.writeln("</table>");
                    document.writeln("</td>");

                }
            }
            document.writeln("</tr></table></div>");
        });
        console.log("Finished");
    </script>

</body>
</html>